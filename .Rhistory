library(rvest)
library(RSelenium)
library(readxl)
limites <- read_excel("macro_aplicada_patentes_anos.xlsx")
Sys.sleep(10)
library(dplyr)
library(rvest)
library(RSelenium)
library(dplyr)
library(readxl)
remDr <- remoteDriver(remoteServerAddr = "localhost",
port = 4445L,
browserName = "chrome")
remDr$open()
remDr <- remoteDriver(remoteServerAddr = "localhost",
port = 4445L,
browserName = "chrome")
remDr$open()
remDr$open()
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(10)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$screenshot(display = T)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
remDr$close()
remDr$open()
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(15)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
remDr$open()
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(20)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
remDr$close()
}
}
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(20)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(28)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
limites$pagfis_0[i]<-11263
remDr$close()
remDr$open()
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-11289
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
j
limites$pagfis_0[i]<-j
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$open()
limites$pagfis_0[i]<-j
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 1:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
limites$pagfis_0[i]<-j
limites$pagfis_0[2]<-j
limites$pagfis_0[2]<-12048
for (i in 2:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(31)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
remDr$navigate(url)
Sys.sleep(35)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 3:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 4:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 4:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 4:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 4:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 5:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
limites$pagfis_0[i]<-j
for (i in 5:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 5:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
remDr$close()
remDr$open()
limites$pagfis_0[i]<-j
for (i in 6:nrow(limites)) {
for (j in limites$pagfis_0[i]:limites$pagfis_1[i]) {
print(paste0(i,"_",j))
url<-paste0("http://memoria.bn.br/DocReader/DocReader.aspx?bib=873730&pagfis=",j)
Sys.sleep(5)
remDr$navigate(url)
Sys.sleep(30)
imgsrc <- read_html(remDr$getPageSource()[[1]]) %>%
html_node(xpath = '//*[@id="DocumentoImg"]')%>%
html_attr('src')
download.file(paste0("http://memoria.bn.br/DocReader/", imgsrc), destfile = paste0("imagens/",limites$ANO[i],"_",j,".JPG"),mode = 'wb')
}
}
